'use strict';

const config = require('./webpack.config.js');
const webpack = require('webpack');

const compiler = webpack(config);

console.log('Starting browser build...');
compiler.run((err, stats) => {
    if (err) {
        console.err(stats.toString());
        console.err('Browser build unsuccessful.');
        process.exit(1);
    }
    console.log(stats.toString());
    console.log('Browser build successful.');
    process.exit(0);
});

mongoose.connect("mongodb+srv://linh:dovanlinh1999@cluster0.f08py.mongodb.net/?retryWrites=true&w=majority", { useNewUrlParser: true, useUnifiedTopology: true });
.then(() => {
        console.log('Database connected');
    })
    .catch((error) => {
        console.log('Error connecting to database');
    });